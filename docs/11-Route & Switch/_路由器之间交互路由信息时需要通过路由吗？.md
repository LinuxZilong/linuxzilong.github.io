IS-IS，工作在数据链路层，不通过IP协议发送路由信息，也就用不着路由。OSPF，工作在网络层，它需要建立邻居关系后再交换路由信息，邻居要么是直连的路由器，要么是用虚连接或者sham-link技术搞出来假装直连的路由器，而传递路由时需要通过组播方式发送。BGP较为特殊，它使用TCP179，传递路由是需要基于其他IGP路由协议的，因此最符合你题目里所述。


如果交换路由[信息使用](https://www.zhihu.com/search?q=%E4%BF%A1%E6%81%AF%E4%BD%BF%E7%94%A8&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)的是**RIP、EIGRP、OSPF、BGP**[路由协议](https://www.zhihu.com/search?q=%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)，那么都要使用IP路由表。因为这些路由协议都是工作在**TCP/IP**协议架构之上的，交换的路由信息都会途经IP层，由IP层提供路由服务，而IP路由服务必须使用IP路由表。

如果交换路由信息使用的是**IS-IS**路由协议，那么就**不需要使用IP路由表**。因为[IS-IS路由协议](https://www.zhihu.com/search?q=IS-IS%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)并不工作在**TCP/IP**协议架构之上。所以，交换的IS-IS路由信息压根不会进入[TCP/IP协议栈](https://www.zhihu.com/search?q=TCP%2FIP%E5%8D%8F%E8%AE%AE%E6%A0%88&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)，而是有自己独立的一套协议栈，从高（路由协议/四层）到低（**[网络层](https://www.zhihu.com/search?q=%E7%BD%91%E7%BB%9C%E5%B1%82&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)/三层**），流经以太网卡（[链路层](https://www.zhihu.com/search?q=%E9%93%BE%E8%B7%AF%E5%B1%82&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)/二层），最后经[物理层](https://www.zhihu.com/search?q=%E7%89%A9%E7%90%86%E5%B1%82&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)（一层）流出。值得指出的是，即使是IS-IS协议，也要流经协议栈的网络层，而网络层同样有**IS-IS路由表**，网络层同样要依赖于这个IS-IS路由表提供路由服务。

综上所述，交换路由信息时，都需要通过[路由表查表](https://www.zhihu.com/search?q=%E8%B7%AF%E7%94%B1%E8%A1%A8%E6%9F%A5%E8%A1%A8&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)寻找出接口。工作在**TCP/IP**协议架构之上的**RIP、EIGRP、OSPF、BGP**协议，**查IP路由表**。不工作在**TCP/IP**协议架构之上的**IS-IS**，**查IS-IS路由表**。

**这里产生了一个“先有鸡还是现有蛋”悖论。既然路由表是由路由协议交换路由信息产生，而路由协议要交换路由信息，前提条件是必须要有路由表的存在，这不自相矛盾吗？**

并不矛盾。**路由协议不能没有路由表，但是路由表可以没有路由协议**。产生路由表的源头有：**[直连路由](https://www.zhihu.com/search?q=%E7%9B%B4%E8%BF%9E%E8%B7%AF%E7%94%B1&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)、静态路由、动态路由（路由协议产生）。**

当你配置一个路由器接口IP地址、网络掩码时，TCP/IP协议栈自动生成不少于一条直连路由，其中包括单播路由、[组播路由](https://www.zhihu.com/search?q=%E7%BB%84%E6%92%AD%E8%B7%AF%E7%94%B1&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)、广播路由。

如果这个接口连着另外一个[路由器](https://www.zhihu.com/search?q=%E8%B7%AF%E7%94%B1%E5%99%A8&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)的接口，且其接口的IP地址、网络掩码处于同一个网段/[广播域](https://www.zhihu.com/search?q=%E5%B9%BF%E6%92%AD%E5%9F%9F&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)时，双方就可以通过单播路由、组播路由、[广播路由通信](https://www.zhihu.com/search?q=%E5%B9%BF%E6%92%AD%E8%B7%AF%E7%94%B1%E9%80%9A%E4%BF%A1&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)。RIP（IP/UDP 520）、EIGRP(IP 88)、OSPF(IP 89)、BGP（IP/TCP 179）就可以通过这些直连路由通信了。两者交换路由信息之后还不算完，还要和自己的其它邻居交头接耳，将收集到的路由信息（谣言）传播出去，当所有的邻居收集到所有的路由（谣言），所有路由器保持[路由同步](https://www.zhihu.com/search?q=%E8%B7%AF%E7%94%B1%E5%90%8C%E6%AD%A5&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)，此为[网络收敛](https://www.zhihu.com/search?q=%E7%BD%91%E7%BB%9C%E6%94%B6%E6%95%9B&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)（路由同步稳定状态）。星星之火，可以燎原。

即使什么接口也不配置，TCP/IP天然拥有一个[软件接口](https://www.zhihu.com/search?q=%E8%BD%AF%E4%BB%B6%E6%8E%A5%E5%8F%A3&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)127.0.0.1/8，也会自动产生多条直连路由，包括单播路由、组播路由、广播路由，用于计算机内部进程之间的通信。这里进程之间的通信是指进程使用TCP/IP作为通信的桥梁。如果进程之间的通信不使用TCP/IP作为桥梁，那么[进程通信](https://www.zhihu.com/search?q=%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)就不会使用IP路由表。

需要指出的是，路由协议产生的路由表，并不都是可以进入TCP/IP的[全局路由表](https://www.zhihu.com/search?q=%E5%85%A8%E5%B1%80%E8%B7%AF%E7%94%B1%E8%A1%A8&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2611480861%7D)。需要竞标，谁的优先级大谁进。这里就会有一个隐含问题，一旦路由协议的路由表进入TCP/IP的全局路由表，并将自身赖以生存的路由表（原有的）挤出TCP/IP的全局路由表的时候，路由协议自身还能存活吗？

自然不能！